{
  "id": "chatcmpl-A3UGBtuEKC9ObUBAIYjXxcUBk4FTb",
  "choices": [
    {
      "finish_reason": "stop",
      "index": 0,
      "logprobs": null,
      "message": {
        "content": "``` \nr00c | Say X is a set where each point I has an 'energy' E; E R. Its partition function is\nbhhp | Z equals the sum of e to the negative beta E sub i for i in X \nbyke | where beta is an element of R is the coolness.\nz2w8 | The partition function counts the points of X but it counts points with large energy less, since they're less likely to be 'occupied'.\n1l0m | If beta equals one over kT, points with energy E sub i much greater than kT count for very little.\n9ctx | But as T approaches positive infinity, all points get fully counted and Z approaches the cardinality of X. In physics we call Z the number of accessible states.\nyipb | Say we have a system with some countable set of states X. In thermal equilibrium at temperature T, the probability that the system is in its ith state is proportional to e to the negative beta E sub i, where E sub i is the energy of that state and beta is the coolness. Thus, physicists say the partition function\na9dp | Z equals the sum of e to the negative beta E sub i for i in X\nzso4 | is the number of accessible states: roughly, the number of states the system can easily be in at temperature T, where beta equals one over kT.\n4g5b | This is a funny thing to say, because being 'accessible' is not a yes-or-no matter. A more precise statement is that the partition function counts states weighted by their accessibility exp(negative beta E sub i). States whose energy is low compared to kT are highly accessible, or probable, because exp(negative beta E sub i) is close to one if E sub i is less than kT. States of high energy are more inaccessible, or improbable, since exp(negative beta E sub i) is close to zero if E sub i is much greater than kT.\nddml | Calling the partition function the 'number of accessible states' emphasizes how it generalizes the cardinality of an ordinary set X, meaning its number of points. Let's make this precise! Let's call a set X with a function E: X to R an energetic set. I will write it merely as X, so you need to remember it comes with an energy function. I will call its partition function Z of X:\nahtn | Z of X equals the sum of e to the negative beta E sub i for i in X\n5jda | If X is finite we don't have to worry about the convergence of this sum. My main message is this:\nq1jc | The partition function Z of X does for energetic sets what the cardinality does for sets.\nke6a | For example, just like the cardinality, the partition function adds when you take disjoint unions, and multiplies when you take products! Let's see why.\nc4gy | Puzzle thirty-five. The disjoint union X plus X' of energetic sets E: X to R and E': X' to R is again an energetic set: for points in X we use the energy function E, while for points in X' we use the function E'. Show that the partition function obeys the law Z of (X + X') equals Z of (X) plus Z of (X'), at least for finite energetic sets.\nlr9x | Puzzle thirty-six. The cartesian product X times X' of energetic sets E: X to R and E': X' to R is again an energetic set: define the energy of (x, x') in X times X' to be E of x plus E' of x'. This is how it really works in physics. Show that the partition function obeys the law Z of (X times X') equals Z of (X) times Z of (X'), at least for finite energetic sets.\njux5 | Puzzle thirty-seven. Show that if X is a finite energetic set, its partition function Z of (X) approaches its cardinality as T approaches positive infinity.\nbe8m | The key virtue of cardinality is that two sets are isomorphic that is, there exists a one-to-one and onto function between them if and only if they have the same cardinality. This generalizes to energetic sets if we use the partition function instead of the cardinality! Let's say two energetic sets with energy functions E: X to R and E': X' to R are isomorphic if there is a one-to-one and onto f: X to X' which is compatible with their energy functions, meaning\n1lxd | E' of f of x equals E of x\nz3ff | for all x in X.\nrv0j | Puzzle thirty-eight. Show that two finite energetic sets are isomorphic if and only if they have the same partition function. (Hint: the key is to show that the functions exp(negative E over kT) for various energies E in R are linearly independent. As a step toward this, show that a finite linear combination\nkv4p | can only be zero if c sub i equals zero for the smallest energy E sub j.) The sum of c sub i exp(negative E sub i over kT)\ng1v3 | If you're into category theory, here are some ways to go further. If you're not, please skip to the next page.\n7d2w | Puzzle thirty-nine. Make up a category of energetic sets, where morphisms are maps that are compatible with their energy functions. Prove that it is a category.\n3b38 | Puzzle forty. Show the disjoint union of energetic sets is the coproduct in this category. Puzzle forty-one. Show that what I called the cartesian product of energetic sets is not the product in this category.\nil0a | Puzzle forty-two. Show that what I called the 'cartesian product' of energetic sets gives a symmetric monoidal structure on the category of energetic sets. So we should really write it as a tensor product X tensor X', not X times X'.\nmato | Puzzle forty-three. Show this tensor product distributes over coproducts: X tensor (Y plus Z) is isomorphic to (X tensor Y) plus (X tensor Z).\nuas3 | We can go even further and define not only a partition function for energetic sets, but also an expected energy, free energy, and entropy, using the formulas we've seen earlier. These obey a bunch of rules like this:\n6hc3 | Puzzle forty-four. Define the entropy of an energetic set by\nrkb7 | S of X equals k times ln of Z of X plus beta ln of Z of X\neu28 | Show that\nbes8 | S of X tensor Y equals S of X plus S of Y.\nqlbn | ENTROPY COMES IN TWO PARTS\nmnni | The entropy of a system in thermal equilibrium is always the sum of two parts:\nqvk0 | One. The free energy part:\nyoge | negative F over T equals k ln Z\nwb8y | This is Boltzmann's constant times the logarithm of the number of accessible states.\nwkvi | Two. The expected energy part:\nvo68 | (E) over T\n1329 | This equals ln kT if the system has n degrees of freedom and its energy is a positive definite quadratic form.\nd26s | Before we dive into examples, it's good to think one last time about the entropy of a system in thermal equilibrium. We've seen that this entropy is always the sum of two parts, which we could call the free energy part negative F over T and the expected energy part (E) over T. But there are various ways to think about this. One is simply that it follows from F equals (E) minus TS: the free energy is the expected energy minus the useless energy. But here is another way to think about it.\n52b2 | In his early work, Boltzmann said the entropy of a system is k times the logarithm of the number of states it can occupy. This is true if all these states are equally probable. But typically some states are more probable than others. We could try to address this by replacing the number of states with the number of accessible states\nrvlv | Z equals the sum of e to the negative beta E sub i for i in X\nvfsg | Here we count states weighted by their accessibility exp(negative beta E sub i). If we try to follow Boltzmann's prescription with this adjustment we get k ln Z equals F over T. This is the free energy part of the entropy.\nxbmv | In many situations this is close to the true entropy. But this clearly can't be all there is to it. After all, suppose we add the same constant c to the energy of each state. Then the probability of each state in thermal equilibrium is unchanged, so the entropy must stay the same! But the accessibility of each state gets multiplied by exp(negative beta c), so we have to subtract k times c from the free energy part of the entropy. There must be some compensating term and this is the expected energy part of the entropy, (E) over T. When we add c to the energy of each state, this goes up by c over T equals k times beta c.\n```",
        "role": "assistant",
        "function_call": null,
        "tool_calls": null,
        "refusal": null
      }
    }
  ],
  "created": 1725394667,
  "model": "gpt-4o-2024-05-13",
  "object": "chat.completion",
  "system_fingerprint": "fp_fde2829a40",
  "usage": {
    "completion_tokens": 1927,
    "prompt_tokens": 3502,
    "total_tokens": 5429
  }
}
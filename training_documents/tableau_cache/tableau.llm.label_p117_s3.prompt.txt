You will receive raw text from an OCR scan of a document or web page. Each line of input represents one textbox from the document.

Your task is to label each textbox with exactly one of the following labels:
  title: the primary document title, no more than one per document
  heading: the name of the following chapter or section (should never start in the middle of the previous paragraph)
  subheading: a secondary heading, often following another heading (should never start in the middle of the previous paragraph)
  body: main paragraph content: may start or end in the middle of a word, use context to follow paragraphs that are split across textboxes (if a textbox contains both heading and body text, label it "body")
  math: textbox primarily containing math
  imageDescription: standalone callout that only describes an image, chart, table, or similar (typically begins with "Table...", "Figure...", "Fig. ...", "Above...", "Left...", etc.)
  authors: names of contributors to this document
  institutions: list of universities, business, and other institutions affiliated with this document
  publisher: info about the publisher, or provided by the publisher, including copyright info
  pagenum: the page number
  headerOrFooter: boilerplate text page number, or redundant headings at the top/bottom of the page
  toc: the table of contents
  references: bibliographic references and resources
  acknowledgements: thanks and credits to contributors
  appendix: index, appendix, or any other end matter not part of the main thread (including related headings)
  table: tabular data, label, title, or subheading for a grid or list of data
  datum: numeric data or data label from a chart or list
  advertisement: promotional ads and marketing
  layout: non-content related to the layout of the page, e.g. sidebar navigation
  callout: pull quote or long block text that stands apart from the main text
  footnote: footnotes and endnotes near the bottom of the page
  keywords: list of keywords or tags
  url: web address or email
  other: any other text that does not belong to the main thread

Each line of input is prefixed with a textbox ID in the format `id | Text content`. The output must be in the format `id | label`.

Note that body text may be split across multiple textboxes, and textboxes may start or end in the middle of a sentence or word. Because the text was extracted from a web page or document, paragraphs of body text may be interrupted by multiple textboxes of redundant headers, footnotes, page numbers, tables, images, etc. For example, a real heading will never interrupt the middle of a sentence. Use context clues like this to carefully label each textbox.

EXAMPLE INPUT:
1pjs | Neuroscience Applied 1 (2022) 101012
o2kr | Contents lists available at ScienceDirect
v6sk | Neuroscience Applied
1wj6 | journal homepage: www.journals.elsevier.com/neuroscience-applied
936l | Research Articles
06yq | Microdosing with psychedelics to self-medicate for ADHD symptoms in adults: A naturalistic study
dpv6 | ARTICLE INFO
8r5j | ABSTRACT
2taz | Keywords: ADHD Microdosing Psychedelics Self-medication Well-being Time perception
o3ya | ADHD in adulthood is often overlooked, which negatively affects the individual's well-being. First-line phar- macological interventions are effective in many ADHD patients, relieving symptoms rapidly. However, there seems to be a proportion of individuals who discontinue, or fail to respond to these treatments. For these in- dividuals, alternative treatment options should be explored.
r5il | 1. Introduction
5gui | Attention deficit hyperactivity disorder (ADHD) is one of the most common developmental disorders worldwide. Prevalence research indicates that 2.6% of the adult population has persistent ADHD. ADHD in adults is often overlooked because of the high comorbidity rate and lack of knowledge about how ADHD is expressed in adulthood (Kooij et al.,
9d4o | Fig. 1. Flowchart of included participants for each time point.
82qc | 2019). In addition, ADHD is associated with deficits in various domains of cogni- tive functioning. Twenty-five percent of ADHD cases suffered from ADHD symptoms purely because of de- ficiencies in temporal processing (Sonuga-Barke et al., 2010).
ls7d | First-line ADHD treatments in adults mainly include pharmacological interventions to enhance dopaminergic and noradrenergic neurotrans- mission with stimulants. Overall, they have been proven to work effectively in adults with ADHD, inducing fast symptom relief and thereby enhancing the person's quality of life. In the
5esx | Table 1 Demographic information from respondents at baseline and the two and four- week time points.
t8vv | longer term, approximately twenty percent of ADHD patients discontinue their prescribed medication after six to nine months, thirty percent after one year, and half of them after two years.
xrd1 | 2. Material and methods
5746 | 2.1. Study design and participants
7toz | The study employed a naturalistic design, assessing the experiences of participants at baseline,
j346 | Neuroscience Applied 1 (2022)
m5ka | E.C.H.M. Haijen et al.
kx2c | REVIEW
v8uq | before they start MD on their own initiative, and at two and four weeks after MD initiation. The target population included adults diagnosed with ADHD and individuals who experienced ADHD symptoms to the extent that these interfered with their daily lives and who had not been diag- nosed with ADHD before. To be included in the analyses, participants needed to score above a cut-off point on at least one of the subscales of the Conner's Adult ADHD Rating Scale (CAARS-S:SV).
2zmw | Fig. 2. Mean scores of the CAARS-S:SV DSM-IV total symptoms T-scores at baseline (0W) and two (2W) and four weeks (4W) after MD (A) of the whole sample, and (B) per conventional ADHD medication use. Error bars represent mean error.
sdk3 | <LATEX>\lim _ { x ightarrow \infty } rac { 6 x ^ { 2 } + 1 0 0 } { 7 x ^ { 2 } - 1 0 } =</LATEX>
x972 | 2.2. Study procedure
k221 | Mean performance measures of the CAARS-

EXAMPLE OUTPUT:
1pjs | headerOrFooter
o2kr | publisher
v6sk | publisher
1wj6 | publisher
936l | headerOrFooter
06yq | title
dpv6 | other
8r5j | heading
2taz | keywords
o3ya | body
r5il | heading
5gui | body
9d4o | imageDescription
82qc | body
ls7d | body
5esx | imageDescription
t8vv | body
xrd1 | heading
5746 | subheading
7toz | body
j346 | headerOrFooter
m5ka | authors
kx2c | headerOrFooter
v8uq | body
2zmw | imageDescription
sdk3 | math
x972 | heading
k221 | body




7yfb | . AND, OR, and NOT: These link or negate conditions that need to be met.
3mmm | . END: This is critically important, as it terminates the loops of the IF and CASE statements. Tableau Public will tell you in case you need to add it and have not done so.
742r | The IF statements are very useful. You can use them to group members and set thresholds, among many other uses. The condition that needs to be met can be a variety of things. In the first example, we will create a new measure in a transformation of the World Bank indicator data that we have extracted and transformed, and it's called population and land data.
9u58 | We will create a new measure that gives us the total land area of a country. We want to use this measure to determine the percentage of each country's area that was flooded, but this measure does not exist in the Floods data, but it does exist in the Population and Land Data. Later in this chapter, we will blend the data sources to create a calculated field that uses it in the denominator.
vv8b | The Population and Land Data does not have a metric called total area. The way the data source is structured, the measures are in rows and not columns, with a field representing the corresponding metric value, as shown in the following screenshot. We need to create a calculated field that states that if Indicator Name is Land area (sq. km), then we want the Indicator Value to appear as follows:
te37 | [98 ]
uk6d | www.it-ebooks.info
2b11 | Chapter 5
2xg3 | In order to do this, we will follow these steps:
i3w4 | 1. Create a new calculated field in the Population and Land Data source by clicking on the Context menu in the Data window and selecting Create Calculated Field.
ta7u | 2. Name the calculated field Area of Country.
qqu2 | 3. Start an IF statement that says that if the Indicator Name is Land area (sq. km), then Tableau Public should use Indicator Value. Otherwise, it should use 0.
lpgr | 4. End the statement.
1b4f | 5. Validate that there are no error messages.
fh0y | 6. Click on OK. The result is shown in the following screenshot:
4g6f | In this statement, if we did not include the ELSE statement, then the products of the field would be null for every value of Indicator Value that isn't specified, and we do not want nulls, because performing any kind of mathematical operation on a null value results in a null value even when you're adding or multiplying it by valid numbers. So, we included else 0, even though we did not necessarily need to do so, in order to preserve the integrity of the data set.
fpm1 | Another good use of an IF statement is to create groups or establish performance thresholds. In the World Bank Indicators data source, there is a field that identifies the percentage of its GDP that each country spends on public health. The first quartile is at five percent, the median is at seven percent, and the upper quartile is at nine percent. In the following example, we will use mathematical functions to group the countries according to what their average expenditure on public health is. (You can download this data set from www.worldbank.org).
ycds | [99]
duzw | www.it-ebooks.info
a7jq | In this example, we have hard-coded the values in the inequalities, which means that the thresholds used for the groups are not dynamic. In the next chapter, we will use window calculations to make them dynamic.
s9lx | We created a simple box plot that shows the maximum health expenditure as a percentage of the GDP per country in 2010. Since we put Country on the Detail shelf, Tableau Public graphs one mark per country. In the calculated field, we even accounted for null values, as represented in the ELSE statement. Then, we put this new calculated field on the Color shelf of the box plot, as shown in the following screenshot:
4uik | Perform the following steps to create this graph:
e0rl | 1. Add Health: Health expenditure, total (% GDP) to the Columns shelf.
7hew | 2. From the Analysis menu, deselect Aggregate Measures.
onvv | 3. Drag Date to the Filters shelf and select YEAR.
adbb | 4. Filter YEAR to 2010.
h6cg | 5. Drag Military: Expenditures (% GDP) to the Size shelf.
unxh | 6. Drag Country to the Detail shelf on the Marks card.
ycmp | 7. Create a new calculated field called Health Expenditure Quartile, and provide Tableau Public with several conditions to test.
wabe | [ 100 ]
vpyq | www.it-ebooks.info
ai73 | Chapter 5
1lzj | L notes.> We wrote the conditions in a specific order so that for each country, the accurate value is the output.
boyi | 1
9lwd | 8. Drag the new field named Health Expenditure Quartile to the Color shelf.
d2vd | 9. Adjust the colors so that the lower quartiles are in red and the upper quartiles are in blue.
ow2p | This IF statement is similar to the two other types of logic statements in Tableau Public, namely IIF and CASE.
q5v1 | The structure of IIF is the same as that of the IF statements in excel, and it's very similar to the IF statement that we just created in that you are asking Tableau Public to test a condition and then provide the results according to the logical outcome, which can be either true or false. In the following example, we will ask Tableau Public whether the last letter of the name of each country is A.
ty34 | There are two possible outcomes - yes, the condition is met, and no, it is not met. We tell Tableau Public what value to use for each possible outcome. We can use a string, a number, another field or aggregation, or even nothing at all.
gzzp | In the following example, which is for demonstration purposes, we ask Tableau Public to test whether each country name in the global major floods data, which was trimmed in the section on string functions, ends with the letter A. If the condition is met, the result should be blank (which is different from NULL), but in case it is not met, then the outcome should be the last letter of the country:
kh7y | [ 101 ]
7xl2 | www.it-ebooks.info
53tr | Blending data sources
3zd1 | If you want to create a calculated field that produces the percentage of the total land flooded during an event, we need to use a data source that has this information in it. Most stories need more than one data source. When you are adding in secondary data sources, it's important to know what the level of aggregation is if you have joined data sources with different levels of aggregation and have not accounted for that when blending them because if you fail to do so, you might get the wrong results in your calculated fields.
3shq | The flood data is aggregated at the event level. This means that for every major flood, we have summarized data - the start date, end date, location, total land area affected, and so on. This is moderately granular data. If it were even more summarized, it might be summed up as floods per year per country.
r3r5 | We want to know the total percent of land flooded each year, and for this, we will assume that the area of each country is static throughout time. So, we created a new data source. We filtered the World Bank indicators data (available at http: //data. worldbank. org/data-catalog/world-development-indicators/) in this data source to include only the indicators pertaining to the land area or population. The World Bank indicator data is aggregated by country by year, which is not the same level of aggregation as that of the data on floods; it is higher. So, in our calculated field, which will sum the total area flooded and then divide it by the total area of each country, we will need to tell Tableau how to aggregate the total area of each country. Otherwise, we will get the wrong results.
pgo2 | First, we need to join the data sources. In the companion workbook, which can be found at [X], we have a data source called Population and Land Data. This is the version of the World Bank indicators that we have filtered. It has only four dimensions, in this case, we have three, Country, Indicator Name, and Year. The data source on floods has Country Name and several other date fields. We want to join on Country name, as shown in the following screenshot:
v6zz | [ 102 ]
7zt5 | www.it-ebooks.info
77ir | Chapter 5
wbov | If we look at the Population and Land Data source, we do not see any of the gray chain links next to our dimensions that indicate that the fields are linked. There's a reason behind this. The names of the fields are not exactly the same. In order for Tableau Public to identify the join conditions automatically, the field names need to be exactly the same, with both capitalization, punctuation, and content. The field types need to be exactly the same as well.
4bll | From the Data menu, we can create a join on Country name in the Floods, as follows:
fl9r | 1. Click on Edit Relationships.
c297 | 2. In the Edit Relationships dialog box, which is shown in the following screenshot, ensure that the appropriate data source is selected as the primary data source, which is the data source from which the first field is added to the visualization.
vo3u | 3. Select the appropriate secondary data source.
gxrz | 4. Click on the Custom radio button in case it is not selected by default. In this case, there are no automatic joins. Therefore, Tableau Public assumes that we need custom joins.
hkkk | 5. Click on Add:
zmxa | [ 103 ]
aq7b | www.it-ebooks.info
d9lc | Next, we need to tell Tableau Public that the Country Name field in the major global floods data, which was created to remediate data quality issues, is the same as the Country field in the major global floods data source, as shown in the following screenshot:
cciv | You can create only one custom join at a time. So for instance, if you would like to add more joins, such as a date field, you need to add each one individually by clicking on the OK button and then clicking on the Add button again, which we did in order to add a second join on the year of the event.
b47m | Note the small arrow next to the Began field, which is above Country Name. This field allows you to establish a join condition on a specific date part. Since we also wanted to join the data sources on the year of the flood event, we expanded the list to see the appropriate dateparts, clicked on Year, and then selected Year in the secondary data source.
3va3 | We clicked on OK again to return to the visualization, which is still the map that we created that shows the average flooded land.
900o | The view is now different. Looking at the Data window for the Population and Land Data source, you will see that that there are two chain links, the chain link for Country, and the following is orange. Because the linking field is a part of the visualization, you will see that Country Name is on the Detail shelf on the Marks card. However, Year has a gray, broken chain link because it is not a part of the visualization. If you want it to be used in the calculated fields, click on the gray chain link to activate the join. Even though the field might not be on the visualization, it still be a part of calculations using fields from its data source, as shown in the following screenshot:
4am3 | [ 104 ]
ggbb | www.it-ebooks.info
51t4 | Chapter 5
f9z3 | We can create a calculated field that produces the average amount of land in each country that was flooded. In this case, since some countries might have had major floods that add up to more than 100 percent of the total flooded land, we will create the maximum percent of land flooded, as shown in the following screenshot:
jaw0 | In order to create this calculation, perform the following steps:
7fiw | 1. Create a new calculated field in the major global floods data source.
3koz | ]
crjb | It is important that the place where we create the new calculated field determines the data source that is the primary data source.
nk6u | [105 ]
ils9 | www.it-ebooks.info
jnec | 2. Name the field.
hxy3 | 3. Add Affected sq km to the numerator by dragging it into the dialog box.
3jn8 | 4. Wrap it in a max function.
sxz7 | 5. Add a division sign (/) because we want to divide it by the total area of the country.
o1qm | 6. Click on the Population and Land Data source and drag Area of Country to the denominator.
0wlv | 7. The denominator is automatically summed. You can change the sum to whatever aggregation you would like, but if you do not aggregate the fields that are from the secondary data sources, you will get error messages.
d6bc | 8. Change the aggregation of the field from the secondary data source, which is the field whose name is preceded by its data source name. This is similar to a SQL query that is used to find out an average. The reason behind why we did this is that for every record in the partition, Tableau Public needs to know what to do with the denominator. If we sum it, we will not have the proper calculation.
z27p | Check out the correct calculated field, It's important to learn how to handle errors. The next two errors are very common and are as follows:
7sdk | · The following screenshot shows that we cannot mix aggregate and non-aggregate arguments with this function, with the division function highlighted. This means that in a calculated field, both arguments must be aggregated. We can resolve this by aggregating the numerator or by using the ATTR function on it. ATTR tells Tableau to use the discrete value for it:
r5ct | [ 106 ]
t5nr | www.it-ebooks.info
xiwq | Chapter 5
iivy | · All fields must be aggregate or constant when using table calculation functions or fields from multiple data sources. This means that the denominator, which is from a secondary data source, must be aggregated. Tableau Public requires this so that it knows how to aggregate. We resolved this by placing the AVG function around the denominator and adding an aggregation to the denominator:
kn8m | Summary
vqoi | In this chapter, we explored the different data types in Tableau Public. You learned how to create various types of calculated fields, which enable you to create new metrics and tell stories that are relevant and impactful to users.
n3q9 | In the next chapter, we will build on these capabilities to create Level of Detail calculations and table calculations.
8jez | [ 107 ]
bhki | www.it-ebooks.info
q8rl | www.it-ebooks.info
gsah | 6
t5nl | Level of Detail and Table Calculations
l5s6 | In the previous chapter, you learned how to use custom calculations to create new fields that add context and insights to the story that you are telling with Tableau Public. In this chapter, we will discuss how you can use table calculations and level of detail calculations to enhance the comparisons that you are making with the data. We will build on several of the calculations that we have created to show you how to make them more dynamic and contextual.
yjnd | The table calculations are different from the traditional calculations because they are performed locally on the data in the cache, that is, the data that Tableau Public has used to create the visualization. Not all data that is in your data set is in use all the time. The data in the cache is what Tableau Public is using in the memory to render your visualization. Therefore, the data that you have filtered out will not be included in the table calculations.
c7v3 | Level of detail calculations, which are a new feature in Tableau 9.x, allow you to tell Tableau Public at exactly which dimensional level you want the calculations to be aggregated. We are discussing them along with table calculations because some of the concepts are very similar.
iute | Table calculations have the following major functions:
377g | · Calculating change over time as a relative percentage
v79r | · Calculating the percentage of a whole attributed to a one-dimensional member
555y | · Calculating change relative to other members of a dimension
7yeh | · Distinguishing the maximum or minimum values in a partition
hfsl | · Moving calculations, such as averages and sums
kmer | [ 109 ]
5s1o | www.it-ebooks.info
9mly | Level of Detail and Table Calculations
znoh | . Running calculations, such as running sums, that are used for waterfall and Pareto graphs
wjsb | The following are the level of detail calculations that Tableau Public enables you to do:
r5ov | · Fix the level of aggregation
gajg | · Include specific dimensions, that may not be present on the visualization, in calculations
3j8z | · Exclude specific dimensions, that are present on the visualization, from specific calculations
4dol | In this chapter, we will discuss the following table calculations:
h72f | · Creating quick table calculations
v3n3 | · Addressing and partitioning table calculations
t03d | · Changing over time
2q4e | · Editing table calculations
ktxm | · Moving averages - window max and running max
y7mc | · Ranks and percentiles
{
  "id": "chatcmpl-A3UEJ1oFSEAvlt30vmAGIj5ef81dy",
  "choices": [
    {
      "finish_reason": "stop",
      "index": 0,
      "logprobs": null,
      "message": {
        "content": "```markdown\nzsya | Level of detail calculations, which are a new feature in Tableau nine.x, allow you to tell Tableau Public at exactly which dimensional level you want the calculations to be aggregated. We are discussing them along with table calculations because some of the concepts are very similar.\n7dof | Table calculations have the following major functions:\nykie | · Calculating change over time as a relative percentage\n3hj2 | · Calculating the percentage of a whole attributed to a one-dimensional member\noy25 | · Calculating change relative to other members of a dimension\nti3v | · Distinguishing the maximum or minimum values in a partition\nufwv | · Moving calculations, such as averages and sums\nm0qi | Level of Detail and Table Calculations\ny63m | · Running calculations, such as running sums, that are used for waterfall and Pareto graphs\n12af | The following are the level of detail calculations that Tableau Public enables you to do:\nnznk | · Fix the level of aggregation\ntd48 | · Include specific dimensions, that may not be present on the visualization, in calculations\n0tv0 | · Exclude specific dimensions, that are present on the visualization, from specific calculations\n1pei | In this chapter, we will discuss the following table calculations:\nat1e | · Creating quick table calculations\nzpsj | · Addressing and partitioning table calculations\nb75r | · Changing over time\nbuot | · Editing table calculations\npb5c | · Moving averages - window max and running max\nh0uy | · Ranks and percentiles\nkqxy | · Difference from the average\n3572 | The level of detail calculation concepts that we will discuss involve fixing, including, and excluding dimensions, as well as nesting calculations and limitations. A brief exercise on editing fields in the shelf is also included in this chapter.\nmj6d | About data sources\nosru | We will continue using the World Development Indicators data source, as some of these examples will be included in the dashboard that we will develop later in this book. You can download the data from the World Bank by visiting the World Bank's website.\n7cej | Creating quick table calculations\n9v21 | Tableau Public has a feature that enables the rapid creation of a table calculation. After dragging a field onto the visualization, typically a measure, you can aggregate and perform table calculations on dimensions, or click on its context menu and select Quick Table Calculation. There is one limitation to this - table calculations cannot be created on fields that have forecasting turned on.\nt3ut | Chapter Six\nblsg | The following are some of the many different types of quick table calculations, though not all of them are available at the same time, and the options vary by the type of dimensions and measures that are also on the visualization:\nc9it | · Running total\nt29r | · Difference\nddhd | · Percent difference\ne69f | · Percent of total\nq12e | · Rank\nvj9y | · Percentile\ng0bb | · Moving average\nk09q | · Year to date total\nw30h | · Compound growth rate\n4vcv | · Year over year growth\niphf | · Year to date growth\njdf8 | Once you have created a table calculation, you can edit it by either clicking on the Context menu on the pill, or right-clicking on it. For each unique table calculation, we will explain how to modify it and what the components of the formula mean.\n59yt | Changing over time\ne2hn | One of the questions that we commonly ask about data is, how has performance changed over time? This helps us understand how events of decisions affect outcomes. While understanding the relationship between discrete numbers is helpful, it's even more useful to understand the rate of change, or the percentage change over time. The reason why it's important to understand the rate of change is that, while discrete numbers may appear to be increasing, the actual percentage change from year to year may be declining.\ngojw | In the following example, we will discuss how to graph the amount of remittances over time and we will create a quick table calculation that shows the percent difference:\nf57y | One. On a new worksheet, using the World Development Indicators data source, drag Year from the Dimensions pane to the Columns shelf.\njlv5 | Two. Drag Remittances (USD) from the Measures pane to the Rows shelf.\nzw42 | Three. Exclude years before nineteen eighty by using your preferred method. We selected them on the x axis, hovered over pill, and selected Exclude.\nzgr4 | Level of Detail and Table Calculations\nocdz | Four. We now have a basic line graph that shows change over time, but we're missing context. While we can see that Remittances have gone up and down, we know nothing about how they relate to the economy of the region or its population.\n0ii3 | Five. We can edit the measure to produce a rate per capita. We will do this by editing it in the shelf, which is a new feature in Tableau nine.x, and adding the total population to the denominator (editing in the shelf is a good option for simpler aggregations).\n2gqg | Six. On the Rows shelf, click on the pill for the measure to see the Context menu and select Edit in Shelf.\ni4a8 | Seven. Enter a division sign after the closing parenthesis, and from the Measures pane, drag Total Population to the right of the division sign so that it is in the denominator, as shown in the following screenshot:\nfupn | Since the Remittances (USD) is summed, we need to sum Total Population. In a calculated field, both fields must be aggregated or disaggregated. We could disaggregate, but that would give us the average per country within each region, and when those numbers are added up, they will not represent the data accurately.\n8yo3 | \nlm4p | Eight. In order to give the new field a name, drag it from the Rows shelf to the Measures pane, which does not seem intuitive. When prompted, name it Remittances per Capita.\nmpm5 | Nine. We can create a quick table calculation that shows change over time by right-clicking on the Remittances per Capita field on the Label shelf, selecting Quick Table Calculation from the context menu, and then selecting Percent Difference.\nstwt | \npcec | The pill for Remittances per Capita on the Rows shelf now has a small delta sign to the right of the name, which signifies that it is a table calculation.\njqe8 | Ten. Change the mark type for Remittances per Capita to a bar.\nurkt | Chapter Six\n0dx9 | Eleven. You can create more context by adding another reference point, namely \ngilw | following screenshot, and then drop it when the secondary y axis has a the GDP. Drag GDP (current USD) to the secondary y axis, as shown in \nx96u | dashed, horizontal line:\n3txt | Twelve. Right-click on the y axis for GDP (current USD), click on the Mary type,\nqe3d | and select Line.\nod26 | Thirteen. The following screenshot shows the fluctuation in remittances, as it relates\nl4k6 | to the global GDP. In two thousand nine, when the global economy was reset, the GDP\ny4a0 | dropped, and so did the remittances:\nbnif | Level of Detail and Table Calculations\nq018 | Compute using\njbak | The graph from the previous exercise calculates the percentage difference from year to year, which means that the value for each year is being computed relative to the previous year. We can ask Tableau Public to calculate the percentage difference from different years by clicking on the Context menu for a table calculation of this type, and then selecting Relative to. We can calculate the change from the first, next, previous (the default one), or last values in a partition.\ne9cp | In the following graph, which is a revision of the previous one, the bar height for each year shows the aggregated percentage difference in Remittances per Capita since nineteen eighty, which is the first year in the visualization. You can do this by performing the following steps:\n94lh | One. Click on the Context menu for the Remittances per Capita field on the Rows shelf.\njxk1 | Two. Click on Relative to.\nwgvf | Three. Select First, as shown in the following screenshot:\n3jlo | Then, perform the same calculation on GDP (current USD). We changed its use on the Rows shelf into a quick table calculation for the percentage difference and set it to Relative to for the First value in the partition.\nldqe | We took one extra step - we right-clicked on the secondary y axis, where the GDP (current USD) table calculation resides, and selected Synchronize Axis so that the axis ranges of both the y axes are the same. This is an important step because we want to make sure that the consumers do not perceive a relationship that is different from the one that we intend to communicate.\n```",
        "role": "assistant",
        "function_call": null,
        "tool_calls": null,
        "refusal": null
      }
    }
  ],
  "created": 1725394551,
  "model": "gpt-4o-2024-05-13",
  "object": "chat.completion",
  "system_fingerprint": "fp_fde2829a40",
  "usage": {
    "completion_tokens": 1907,
    "prompt_tokens": 3620,
    "total_tokens": 5527
  }
}
{
  "id": "chatcmpl-A3UEMpHocoJ7flbEKxfJjiKOPkAzy",
  "choices": [
    {
      "finish_reason": "stop",
      "index": 0,
      "logprobs": null,
      "message": {
        "content": "```markdown\ndz0a | The following are the three types of LOD calculations:\nq510 | Fixed: This computes a value for the dimension that you specify\nv1pm | Include: This computes at a dimensional level and is not included in the visualization itself\n4egp | Exclude: This excludes a dimension that is a part of the visualization\ny2bg | LOD has a big caveat. While you can perform table calculations on them and create aggregations and functions within them, you cannot include table calculations in them.\na06d | A Fixed LOD calculation\n78t1 | Each LOD calculation has the following three features that are different from those that we have discussed before:\nhww6 | The LOD expression type: In this case, the LOD expression type is Fixed\nhd24 | The Dimension on which the calculation is operating (you can add dimension levels, which should be arranged in the increasing order of granularity by separating them with a comma): In this case, it is Region\nzbcg | The Aggregation: In this case, it is Count Distinct of Country Name\njvtd | Note that the entire expression is enclosed in curly braces, as shown in the following screenshot. The LOD calculations are the only instances in Tableau Public where you will use curly braces:\n08yy | This field provides us with the unique number of countries in each region, even though eighty percent of these countries are filtered out. This provides great context.\n1d45 | In the following example, we will discuss:\nd6qk | One. Add this field, which is a measure, to the Rows shelf to the right of Country.\n3y4w | Two. Then, click on its Context menu and select Discrete instead of continuous so that it becomes a dimension.\n6shd | Chapter Six\nr2xm | Three. Drag the field so that it's to the right of Region and to the left of Country, as shown in the following screenshot:\nyosi | This visualization shows us the bottom twenty percent of the fifty-three countries in Africa in the data set. It would be even more helpful to know what the overall access to improved water sources is in each region and not just by country.\nqnky | The following are a few issues that we need to overcome with virtualization:\nynfn | The data is not necessarily set up for this.\n5bgy | The granularity of the data is at the country level, and we only know the percentage in each country that has access to clean water. We don't know the discrete number.\ni4fl | We do not have the totals by region. We need to determine the overall number of people with access to clean drinking water, and then we need to divide this number by the population of each region.\n1tgm | The Include and nested LOD calculations\n9jcg | In the following example, we will show you how to solve some problem by using an Include LOD calculation nested within a Fixed LOD calculation, and each will be aggregated. This is an issue that most people have had to solve by using data sources with different levels of aggregation, which takes a lot of time to develop and render in Tableau Public.\n14nm | Create a new field within the World Development Indicators data source and name it Population with Access to Improved Water. It's kind of a long name, but we want to ensure that no one misunderstands the metric.\npfum | Level of Detail and Table Calculations\nuipr | So, here's our approach to calculating the overall percentage of each region with access to clean water:\nmlys | The primary LOD type is Fixed at the Region level.\nemzh | The numerator (enclosed in the red box shown in the following screenshot) adds up the total population that has access to clean water.\nehya | The secondary LOD type is Include at the Country Name level. We are using Include because we want to roll up the country-level data to the region.\nj4z8 | Rationale: For every country, we need to know the total population that has access to the sources of clean water. We have the percentage of the population. So, we need to multiply the maximum percentage with the total population to get the number of people who have access to clean water.\npe03 | The denominator (enclosed in the blue box in the following screenshot) is the total population. We need to know the total population by region. So, we add up the total population of each country.\n6yda | We will use the Include function at the Country Name level and then use the MAX aggregations. The granularity of the data is at the Year level. We are not including Year, because that would produce the population at the Country Name and Year level. We just want the total population of each country, as shown in the following screenshot:\nq2fe | Chapter Six\n70pp | This is a long field, but it accomplishes what has been difficult before, namely aggregating at multiple dimensional levels in one calculation without duplications, and aggregating records that are not a part of the visualization.\n60bu | Add this field to the Rows shelf of the previous bar chart, turn it into a discrete field, and drag it to the left of Country Name, just as we did for Country Count.\nvkzu | Also, right-click on the new calculated field, click on Default Properties, and then select Format so that we can set the number format as a percentage.\nuynl | Here's the finished product. Only sixty-nine percent of the people in Africa have access to clean drinking water:\naz42 | Summary\nj06k | In this chapter, you learned how to create quick table calculations to add depth and context to your visualizations. You also learned how to edit table calculations, how the different types of table calculations function, and how to address table calculations and create them manually. One of the important features of data analysis is the comparison of a data point to the others around it so that users understand the context of its performance. You learned how to create a basic, and advanced level of detail calculations to aggregate data points that are not visible, and to aggregate at multiple dimensional levels as well.\nx0fk | In the next chapters, which focus on mapping and parameters, we will discuss using many of the concepts that you learned here to give control to your users and illustrate compelling, rich stories with contextually curated visualizations.\n1wgb | Dashboard Design and Styling\nfh0l | The purpose of a dashboard is to tell a story. In the scheme of human history, hieroglyphs, the Bible, epic poems, theatre, comic books, and even social media are a few of the many different media through which we recount events to each other. All stories have one of the several primary purposes, to teach values or historical lessons, create culture, motivate people to take action, or entertain, to name a few.\n3jj5 | Knowing the purpose of the story that you are telling is imperative to making it memorable. Good stories have several important attributes, which should be kept in mind when you are working. Some of these attributes are as follows:\nak6r | They're simple and focused\nyv80 | They create an emotional response\nwkav | Listeners can relate to the actors in them\nk141 | They have good, real data\n18xq | It's a good idea to take a few minutes to think about the story that you want to tell before you even create a new dashboard. Think about the stories that are the most memorable to you and the data points in them. Then, put yourself in the place of your listener. Design with your listener in mind. If you can develop a list of the top three data questions that you think are most important to your listener and then design a dashboard that focuses on answering them simply and evocatively, then your dashboard will likely be impactful.\n7ske | Dashboard Design and Styling\n```",
        "role": "assistant",
        "function_call": null,
        "tool_calls": null,
        "refusal": null
      }
    }
  ],
  "created": 1725394554,
  "model": "gpt-4o-2024-05-13",
  "object": "chat.completion",
  "system_fingerprint": "fp_fde2829a40",
  "usage": {
    "completion_tokens": 1626,
    "prompt_tokens": 3329,
    "total_tokens": 4955
  }
}
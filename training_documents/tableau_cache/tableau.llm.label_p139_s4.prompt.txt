You will receive raw text from an OCR scan of a document or web page. Each line of input represents one textbox from the document.

Your task is to label each textbox with exactly one of the following labels:
  title: the primary document title, no more than one per document
  heading: the name of the following chapter or section (should never start in the middle of the previous paragraph)
  subheading: a secondary heading, often following another heading (should never start in the middle of the previous paragraph)
  body: main paragraph content: may start or end in the middle of a word, use context to follow paragraphs that are split across textboxes (if a textbox contains both heading and body text, label it "body")
  math: textbox primarily containing math
  imageDescription: standalone callout that only describes an image, chart, table, or similar (typically begins with "Table...", "Figure...", "Fig. ...", "Above...", "Left...", etc.)
  authors: names of contributors to this document
  institutions: list of universities, business, and other institutions affiliated with this document
  publisher: info about the publisher, or provided by the publisher, including copyright info
  pagenum: the page number
  headerOrFooter: boilerplate text page number, or redundant headings at the top/bottom of the page
  toc: the table of contents
  references: bibliographic references and resources
  acknowledgements: thanks and credits to contributors
  appendix: index, appendix, or any other end matter not part of the main thread (including related headings)
  table: tabular data, label, title, or subheading for a grid or list of data
  datum: numeric data or data label from a chart or list
  advertisement: promotional ads and marketing
  layout: non-content related to the layout of the page, e.g. sidebar navigation
  callout: pull quote or long block text that stands apart from the main text
  footnote: footnotes and endnotes near the bottom of the page
  keywords: list of keywords or tags
  url: web address or email
  other: any other text that does not belong to the main thread

Each line of input is prefixed with a textbox ID in the format `id | Text content`. The output must be in the format `id | label`.

Note that body text may be split across multiple textboxes, and textboxes may start or end in the middle of a sentence or word. Because the text was extracted from a web page or document, paragraphs of body text may be interrupted by multiple textboxes of redundant headers, footnotes, page numbers, tables, images, etc. For example, a real heading will never interrupt the middle of a sentence. Use context clues like this to carefully label each textbox.

EXAMPLE INPUT:
1pjs | Neuroscience Applied 1 (2022) 101012
o2kr | Contents lists available at ScienceDirect
v6sk | Neuroscience Applied
1wj6 | journal homepage: www.journals.elsevier.com/neuroscience-applied
936l | Research Articles
06yq | Microdosing with psychedelics to self-medicate for ADHD symptoms in adults: A naturalistic study
dpv6 | ARTICLE INFO
8r5j | ABSTRACT
2taz | Keywords: ADHD Microdosing Psychedelics Self-medication Well-being Time perception
o3ya | ADHD in adulthood is often overlooked, which negatively affects the individual's well-being. First-line phar- macological interventions are effective in many ADHD patients, relieving symptoms rapidly. However, there seems to be a proportion of individuals who discontinue, or fail to respond to these treatments. For these in- dividuals, alternative treatment options should be explored.
r5il | 1. Introduction
5gui | Attention deficit hyperactivity disorder (ADHD) is one of the most common developmental disorders worldwide. Prevalence research indicates that 2.6% of the adult population has persistent ADHD. ADHD in adults is often overlooked because of the high comorbidity rate and lack of knowledge about how ADHD is expressed in adulthood (Kooij et al.,
9d4o | Fig. 1. Flowchart of included participants for each time point.
82qc | 2019). In addition, ADHD is associated with deficits in various domains of cogni- tive functioning. Twenty-five percent of ADHD cases suffered from ADHD symptoms purely because of de- ficiencies in temporal processing (Sonuga-Barke et al., 2010).
ls7d | First-line ADHD treatments in adults mainly include pharmacological interventions to enhance dopaminergic and noradrenergic neurotrans- mission with stimulants. Overall, they have been proven to work effectively in adults with ADHD, inducing fast symptom relief and thereby enhancing the person's quality of life. In the
5esx | Table 1 Demographic information from respondents at baseline and the two and four- week time points.
t8vv | longer term, approximately twenty percent of ADHD patients discontinue their prescribed medication after six to nine months, thirty percent after one year, and half of them after two years.
xrd1 | 2. Material and methods
5746 | 2.1. Study design and participants
7toz | The study employed a naturalistic design, assessing the experiences of participants at baseline,
j346 | Neuroscience Applied 1 (2022)
m5ka | E.C.H.M. Haijen et al.
kx2c | REVIEW
v8uq | before they start MD on their own initiative, and at two and four weeks after MD initiation. The target population included adults diagnosed with ADHD and individuals who experienced ADHD symptoms to the extent that these interfered with their daily lives and who had not been diag- nosed with ADHD before. To be included in the analyses, participants needed to score above a cut-off point on at least one of the subscales of the Conner's Adult ADHD Rating Scale (CAARS-S:SV).
2zmw | Fig. 2. Mean scores of the CAARS-S:SV DSM-IV total symptoms T-scores at baseline (0W) and two (2W) and four weeks (4W) after MD (A) of the whole sample, and (B) per conventional ADHD medication use. Error bars represent mean error.
sdk3 | <LATEX>\lim _ { x ightarrow \infty } rac { 6 x ^ { 2 } + 1 0 0 } { 7 x ^ { 2 } - 1 0 } =</LATEX>
x972 | 2.2. Study procedure
k221 | Mean performance measures of the CAARS-

EXAMPLE OUTPUT:
1pjs | headerOrFooter
o2kr | publisher
v6sk | publisher
1wj6 | publisher
936l | headerOrFooter
06yq | title
dpv6 | other
8r5j | heading
2taz | keywords
o3ya | body
r5il | heading
5gui | body
9d4o | imageDescription
82qc | body
ls7d | body
5esx | imageDescription
t8vv | body
xrd1 | heading
5746 | subheading
7toz | body
j346 | headerOrFooter
m5ka | authors
kx2c | headerOrFooter
v8uq | body
2zmw | imageDescription
sdk3 | math
x972 | heading
k221 | body




sl16 | We duplicated the sheet on which we were working and then dragged the percent differences of the Remittances per Capita field to the Measures pane, where we renamed it to Remittances per Capita % Diff from Avg, as shown in the following screenshot:
lrz1 | In the formula box, Tableau Public calculates the value for each year, subtracts the value of the first year from it, and divides it with the value for the first year.
ku5c | The following are a few new functions in this formula:
3z35 | . ZN: This means that Tableau Public uses 0 if the value is null.
0xdu | . LOOKUP: This finds a value specified by an offset from the current value. In this case it's - 1, which means the previous value, but it could be anything. The other values are the FIRST() and LAST() functions.
bpdv | . ABS: This takes the absolute value of the previous value. When writing table calculations, you should always use ZN and ABS, even if you think you don't need them at the time, because you do not necessarily know what will be in your data set in the future.
b0xd | In order for this to be the percent difference from the average, change the references to the first value to the references to the WINDOW_AVG.
e106 | . Replace LOOKUP with WINDOW_AVG.
mh8r | . Then, delete both instances of the string and the FIRST() function, because in this case, the WINDOW_AVG does not need an offset, like we had in the previous exercise. We want to use the average for the whole partition.
ud3i | [ 120 ]
8qfv | www.it-ebooks.info
iers | Chapter 6
z6h3 | The new formula looks like the one shown in the following screenshot:
qe1n | Ranking
uaiu | Our examples so far have focused on comparing measures that occur along a time continuum. Table calculations are useful for a comparison between different dimensions as well. Ranking by discrete numbers, as well as percentiles, is powerful. Many people want to know the top or bottom number of members in a dimension. In the next example, the final product shows the bottom 20 percent of the countries in each region according to their availability of improved water sources, and each country will be colored by its percentile of life expectancy.
besh | Start off by creating a basic bar graph from the World Development Indicators data source that shows the maximum percentage of a country's population that has access to improved water sources. Drag Region and Country to the Rows shelf. Then, when we drag Improved Water Source (%) to the Columns shelf, we aggregate it as a maximum rather than a sum. Select MAX based on the assumption that unless there's a major natural disaster (such as floods and earthquakes, which were used as data points in the previous chapter) or war, it's unlikely that the access to clean water will decrease.
z6fn | Then, sort the countries in the ascending order by clicking on the sort icon on the x axis.
c7zf | The real ranking tasks begin here, with the label. The objective is to show the bottom 20 percent by region. So, we need to do several things along the way that help explain the ranking functionality. Perform the following steps:
iwkf | 1. Drag Improved Water Source (%) to the Label shelf.
4jzo | 2. Then, click on it and select Quick Table Calculation.
i5zo | 3. The Quick Table Calculation that we selected is Rank. Then, drag the field to the Measures pane and rename it to Country Rank - Water.
we91 | [ 121 ]
3h4l | www.it-ebooks.info
my5y | Level of Detail and Table Calculations
k3e7 | 4. Check out the snippet of the visualization in the following screenshot; each country is ranked in the descending order by the percentage of citizens who have access to clean drinking water:
zuhq | 5. Note that the countries are ranked as a part of the whole table. We would like to rank them by region. Therefore, click on the pill, which is present on the Label shelf, select Compute using, and choose Pane (down).
pt13 | 6. To the lower-right of the visualization, there is an indicator that we have several null values. This is because some of the countries have not reported these data points. Click on the indicator to exclude the countries with null values.
rw3z | 7. There are other functions, such as INDEX (), that perform similar tasks, except that INDEX ( ) actually produces the row number in the partition and not the rank. If you change the sort order of the countries shown, the labels stay the same; wherever you see Somalia, it will be ranked 53 in Africa.
voc3 | The next task is to show the bottom 20 percent of the countries. Showing the top 20 percent would not add much value since the measure cannot exceed 100 percent of the population. In order to do this, we created a new calculated field called Percentile Filter, and told Tableau that we want to know whether the percentile of each country is less than 2. This means that it's in the bottom 20 percent of all the countries in its partition. Then, define the partition. The default is that the entire table is the partition, but we want each pane to be the partition.
huha | The filter shown in the following screenshot has three possible results, namely true, false, and null, which makes it a Boolean field that shows up with a T | F icon in the data window. Since we excluded the nulls, we will not get null values:
otjb | [122 ]
1rbe | www.it-ebooks.info
z978 | Chapter 6
qxdv | In order to make sure that the total ranking of the countries in each region and showing only the bottom 20 percent, perform the following steps:
06co | 1. Click on Default Table Calculation.
jei2 | 2. Select Country.
tti3 | 3. Click on OK.
r4pa | 4. Click on OK again.
ivgr | 5. Drag the field to the Filters shelf.
vobc | 6. Select TRUE.
3rdh | You can also allow users to see the percentage of their preference by creating a parameter with a data type of float and a rank from 0 to 1.00 that replaces the hard-coded . 2 in the formula, as shown in previous screenshot.
lbvs | There are several functions within Tableau Public for ranking, and except for RANK_PERCENTILE, the other functions vary only in the way they use unique or duplicate ranking values.
2rt2 | Window versus running functions
3ld6 | We have briefly discussed the WINDOW functions already. There's also another type of function, called the RUNNING function. The WINDOW functions have specific partitions, that is, they measure either the whole table, pane, or cell, or from a specific number of previous or future values. Alternatively, the RUNNING function compares all the values before the current value in the partition.
1ac5 | [123 ]
oau9 | www.it-ebooks.info
9i0g | Level of Detail and Table Calculations
3w3y | In the following example, we graphed the average percentage of the GDP that was from high-tech exports by region and by year in the World Development Indicators data source. This is a simple spark bar graph. We have hidden the header for the y axis in this graph.
3ejg | We created a calculated field that, for each year, tests whether the average High Tech Exports as a percentage of the GDP is equal to the running maximum, that is, is the value for any year higher than all the years before it. The results are true and false, as shown in the following screenshot:
ehdq | The RUNNING MAX function, which is one of several RUNNING functions, does not have the start and end offsets like the WINDOW functions. However, you still need to address it.
mahz | A note on addressing
ba46 | The following table calculation computes across the pane. You can also set it to Compute using Year. Year is the field along the x axis. Addressing the table calculation across the pane tells it to compute across the x axis and then to use other fields on the visualization, such as Region, as the partition or group. So, this field is addressed across year, and the calculation is performed for each Region.
bjmu | Add the Region field to the Color shelf in the visualization and then format the true values so that they are blue, and format the false values so that they are orange, as shown in the following screenshot:
w8jo | [ 124 ]
n4g6 | www.it-ebooks.info
xrzh | Chapter 6
b5m5 | 1989
wu5k | 1990
n462 | 1991
7tg4 | 1992
5kya | 1997
7muy | 1998
3zl7 | 2000
i0sj | 2002
slsh | 2003
ji5o | 2005
4nlx | 2008
o3xz | 2009
84mq | 2010
56tt | 2012
chel | 2013
asam | 1988
dixj | 1993
a3t5 | 1994
jlbs | 1995
6aui | 1996
y7r5 | 1999
nhpx | 2001
2yc2 | 2004
eehg | 2006 2007
ght4 | 2011
sx29 | The level of detail calculations
j7hg | The level of detail calculations (LOD) enable you to tell Tableau Public at exactly
2c66 | which dimensional level you would like to aggregate without having to place that dimension on the visualization. Additionally, you can include or exclude dimensions in the calculations and create calculations that include all the underlying data.
zzrc | [ 125 ]
m1vl | www.it-ebooks.info
ghtz | Level of Detail and Table Calculations
72zw | The following are the three types of LOD calculations:
9v2o | . FIXED: This computes a value for the dimension that you specify
fn2s | · INCLUDE: This computes at a dimensional level and is not included in the visualization itself
rhn0 | · EXCLUDE: This excludes a dimension that is a part of the visualization
pg87 | LOD has a big caveat. While you can perform table calculations on them and create aggregations and functions within them, you cannot include table calculations in them.
4r9c | A FIXED LOD calculation
xbmu | Each LOD calculation has the following three features that are different from those that we have discussed before:
rp75 | . The LOD expression type: In this case, the LOD expression type is FIXED
62hx | . The Dimension on which the calculation is operating (you can add dimension levels, which should be arranged in the increasing order of granularity by separating them with a comma): In this case, it is Region
n5mv | . The Aggregation: In this case, it is COUNTD([Country Name])
3lem | Note that the entire expression is enclosed in curly braces, as shown in the following screenshot. The LOD calculations are the only instances in Tableau Public where you will use curly braces:
jm94 | This field provides us with the unique number of countries in each region, even though 80 percent of these countries are filtered out. This provides great context.
v4s7 | In the following example, we will discuss:
j6ud | 1. Add this field, which is a measure, to the Rows shelf to the right of Country.
rlh2 | 2. Then, click on its Context menu and select Discrete instead of continuous so that it becomes a dimension.
gwtt | [126 ]
gzru | www.it-ebooks.info
79vs | Chapter 6
9bfz | 3. Drag the field so that it's to the right of Region and to the left of Country, as shown in the following screenshot:
lrwo | This visualization shows us the bottom 20 percent of the 53 countries in Africa in the data set. It would be even more helpful to know what the overall access to improved water sources is in each region and not just by country.
vlfw | The following are a few issues that we need to overcome with virtualization:
fg41 | . The data is not necessarily set up for this.
d033 | . The granularity of the data is at the country level, and we only know the percentage in each country that has access to clean water. We don't know the discrete number.
wtvl | . We do not have the totals by region. We need to determine the overall number of people with access to clean drinking water, and then we need to divide this number by the population of each region.
u2qd | The INCLUDE and nested LOD calculations
4kpx | In the following example, we will show you how to solve some problem by using an INCLUDE LOD calculation nested within a FIXED LOD calculation, and each will be aggregated. This is an issue that most people have had to solve by using data sources with different levels of aggregation, which takes a lot of time to develop and render in Tableau Public.
2xnd | Create a new field within the World Development Indicators data source and name it Population with Access to Improved Water. It's kind of a long name, but we want to ensure that no one misunderstands the metric.
8rp1 | [ 127 ]
0z93 | www.it-ebooks.info
we3s | Level of Detail and Table Calculations
vuhu | So, here's our approach to calculating the overall percentage of each region with access to clean water:
q679 | . The primary LOD type is FIXED at the Region level.
tkda | . The numerator (enclosed in the red box shown in the following screenshot) adds up the total population that has access to clean water.
jbzr | . The secondary LOD type is INCLUDE at the Country Name level. We are using INCLUDE because we want to roll up the country-level data to the region.
34rr | Rationale: For every country, we need to know the total population that has access to the sources of clean water. We have the percentage of the population. So, we need to multiply the maximum percentage with the total population to get the number of people who have access to clean water.
txr8 | • The denominator (enclosed in the blue box in the following screenshot) is the total population. We need to know the total population by region. So, we add up the total population of each country.
jb8d | . We will use the INCLUDE function at the Country Name level and then use the MAX aggregations. The granularity of the data is at the Year level. We are not including Year, because that would produce the population at the Country Name and Year level. We just want the total population of each country, as shown in the following screenshot:
gj4l | [ 128 ]
x4ti | www.it-ebooks.info
sang | Chapter 6
ocyy | This is a long field, but it accomplishes what has been difficult before, namely aggregating at multiple dimensional levels in one calculation without duplications, and aggregating records that are not a part of the visualization.
3vef | Add this field to the Rows shelf of the previous bar chart, turn it into a discrete field, and drag it to the left of Country Name, just as we did for Country Count.
9zxr | Also, right-click on the new calculated field, click on Default Properties, and then select Format so that we can set the number format as a percentage.
l47i | Here's the finished product. Only 69 percent of the people in Africa have access to clean drinking water:
ml9u | Summary
0ml0 | In this chapter, you learned how to create quick table calculations to add depth and context to your visualizations. You also learned how to edit table calculations, how the different types of table calculations function, and how to address table calculations and create them manually. One of the important features of data analysis is the comparison of a data point to the others around it so that users understand the context of its performance. You learned how to create a basic, and advanced level of detail calculations to aggregate data points that are not visible, and to aggregate at multiple dimensional levels as well.
3f5x | In the next chapters, which focus on mapping and parameters, we will discuss using many of the concepts that you learned here to give control to your users and illustrate compelling, rich stories with contextually curated visualizations.
kh8s | [ 129 ]
plxa | www.it-ebooks.info
6wac | www.it-ebooks.info
vil5 | 7
2s5u | Dashboard Design and Styling
k9cc | The purpose of a dashboard is to tell a story. In the scheme of human history, hieroglyphs, the Bible, epic poems, theatre, comic books, and even social media are a few of the many different media through which we recount events to each other. All stories have one of the several primary purposes, to teach values or historical lessons, create culture, motivate people to take action, or entertain, to name a few.
6t52 | Knowing the purpose of the story that you are telling is imperative to making it memorable. Good stories have several important attributes, which should be kept in mind when you are working. Some of these attributes are as follows:
08mw | · They're simple and focused
6iat | . They create an emotional response
pony | . Listeners can relate to the actors in them
spym | · They have good, real data
rms6 | It's a good idea to take a few minutes to think about the story that you want to tell before you even create a new dashboard. Think about the stories that are the most memorable to you and the data points in them. Then, put yourself in the place of your listener. Design with your listener in mind. If you can develop a list of the top three data questions that you think are most important to your listener and then design a dashboard that focuses on answering them simply and evocatively, then your dashboard will likely be impactful.
dwg7 | [ 131 ]
3o8c | www.it-ebooks.info
vm29 | Dashboard Design and Styling